import{_ as d,s as p,p as e,a as o,l as T,D as l,b as m,g as u}from"./index.90c4e0cd.js";import"./vue.f8494a3b.js";import{ba as c}from"./@vue.f39bd477.js";/* empty css                    */import"./lz-string.dccec454.js";import"./nanoevents.1080beb7.js";import"./vue-next-select.7e058054.js";import"./vuedraggable.0800db33.js";import"./amator.0ea1c940.js";import"./bezier-easing.a990b400.js";import"./sortablejs.4c00aaaa.js";import"./vue-textarea-autosize.35804eaf.js";import"./vue-panzoom.e1b3955c.js";import"./panzoom.860778e1.js";import"./wheel.913c5885.js";import"./ngraph.events.083734c6.js";import"./vue-toastification.c91ff665.js";let n=null,f=null;function a(){const t=Date.now();let i=(t-e.time)/1e3;e.time=t;const r=i;if(o.lastTenTicks.push(r),o.lastTenTicks.length>10&&(o.lastTenTicks=o.lastTenTicks.slice(1)),!((f==null?void 0:f.value)&&!e.keepGoing)&&!o.hasNaN&&(i=Math.max(i,0),e.devSpeed!==0)){if(T.value=!1,e.offlineTime!=null){if(l.gt(e.offlineTime,m.offlineLimit*3600)&&(e.offlineTime=m.offlineLimit*3600),l.gt(e.offlineTime,0)&&e.devSpeed!==0){const s=Math.max(e.offlineTime/10,i);e.offlineTime=e.offlineTime-s,i+=s}else e.devSpeed===0&&(e.offlineTime+=i);(!e.offlineProd||l.lt(e.offlineTime,0))&&(e.offlineTime=null)}i=Math.min(i,m.maxTickLength),e.devSpeed!=null&&(i*=e.devSpeed),Number.isFinite(i)||(i=1e308),!l.eq(i,0)&&(e.timePlayed+=i,Number.isFinite(e.timePlayed)||(e.timePlayed=1e308),u.emit("update",i,r),p.unthrottled?(requestAnimationFrame(a),n!=null&&(clearInterval(n),n=null)):n==null&&(n=setInterval(a,50)))}}async function A(){f=(await d(()=>import("./index.90c4e0cd.js").then(function(t){return t.c}),["assets/index.90c4e0cd.js","assets/index.84859b21.css","assets/@fontsource.719f4e79.css","assets/vue.f8494a3b.js","assets/amator.0ea1c940.js","assets/bezier-easing.a990b400.js","assets/@vue.f39bd477.js","assets/lz-string.dccec454.js","assets/nanoevents.1080beb7.js","assets/vue-next-select.7e058054.js","assets/vue-next-select.9e6f4164.css","assets/vuedraggable.0800db33.js","assets/sortablejs.4c00aaaa.js","assets/vue-textarea-autosize.35804eaf.js","assets/vue-panzoom.e1b3955c.js","assets/panzoom.860778e1.js","assets/wheel.913c5885.js","assets/ngraph.events.083734c6.js","assets/vue-toastification.c91ff665.js","assets/vue-toastification.4b5f8ac8.css"])).hasWon,c(f,t=>{t&&u.emit("gameWon")}),p.unthrottled?requestAnimationFrame(a):n=setInterval(a,50)}export{A as startGameLoop};
